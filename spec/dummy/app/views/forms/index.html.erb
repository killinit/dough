<h1>Forms</h1>

<h2>Fieldsets, Legends, and Form Elements</h2>

<p>* Indicates required fields</p>

<form class="form" novalidate>

  <div class="form__row">
    <label for="text_field" class="form__label-heading">Text Field * <span class="visually-hidden">required</span></label>
    <input type="text" id="text_field" aria-required="true">
  </div>

  <div class="form__row">
    <label for="text_field_hint" class="form__label-heading">Text Field with
      hint</label>
    <input type="text" id="text_field_hint" aria-describedby="frmhint1">

    <p class="form__hint" id="frmhint1">e.g. 01/01/1970</p>
  </div>

  <div class="form__row">
    <label for="disabled" class="form__label-heading">Disabled Text
      Field</label>
    <input type="text" id="disabled" value="Some disabled text" disabled>
  </div>

  <div class="form__row">
    <label for="text_area" class="form__label-heading">Text Area</label>
    <textarea id="text_area"></textarea>
  </div>

  <div class="form__row">
    <label for="select_element" class="form__label-heading">Select
      Element</label>
    <select name="select_element" id="select_element">
      <optgroup label="Option Group 1">
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </optgroup>
      <optgroup label="Option Group 2">
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </optgroup>
    </select>
  </div>

  <div class="form__row">
    <fieldset class="form__group">
      <legend>Form group (default)</legend>
      <div class="form__group-item">
        <label>
          <input class="form__group-input" name="fsitem1" type="checkbox">
          This is the first option
        </label>
      </div>
      <div class="form__group-item">
        <label>
          <input class="form__group-input" name="fsitem1" type="checkbox">
          This is another option
        </label>
      </div>
      <div class="form__group-item">
        <label>
          <input class="form__group-input" checked name="fsitem1" type="checkbox">
          Here’s a third option
        </label>
      </div>
    </fieldset>
  </div>

  <div class="form__row">
    <div data-dough-component="RangeInput">
      <label for="range" class="form__label-heading">Range Input <strong>(Work in progress)</strong></label>
      <input type="text" id="range" data-dough-range-input class="form__input--range">
    </div>
  </div>

  <div class="form__row">
    <fieldset class="form__group form__group--inline">
      <legend>Form group (inline)</legend>
      <div class="form__group-item">
        <label>
          <input checked type="radio" name="fsitem2" class="form__group-input">
          This option
        </label>
      </div>
      <div class="form__group-item">
        <label>
          <input type="radio" name="fsitem2" class="form__group-input">
          Or this option
        </label>
      </div>
      <div class="form__group-item">
        <label>
          <input type="radio" name="fsitem2" class="form__group-input">
          Or this option
        </label>
      </div>
    </fieldset>
  </div>

  <div class="form__row">
    <label class="form__label-heading" for="input4" id="form-label4">Inset label
      (single)</label>
    <span class="form__input-container">
      <span class="form__input-label" id="input-label4a">&pound;</span>
      <input id="input4" class="form__input" type="text" aria-labelledby="form-label4 input-label4a input-label4b">
      <span class="form__input-outline"></span>
    </span>
  </div>

  <div class="form__row">
    <label class="form__label-heading" for="input3" id="form-label3">Inset label
      (multiple)</label>
    <span class="form__input-container">
      <span class="form__input-label" id="input-label3a">APR</span>
      <input id="input3" class="form__input" type="text" aria-labelledby="form-label3 input-label3a input-label3b">
      <span class="form__input-label" id="input-label3b">%</span>
      <span class="form__input-outline"></span>
    </span>
  </div>

  <div class="form__row">
    <p>Inset label - (with label included as part of the input)</p>
    <label class="form__label-heading" for="input6" id="form-label6">
      <span class="form__input-container">
        <span class="form__input-label" id="input-label6">APR</span>
        <input id="input6" class="form__input" type="text" aria-labelledby="form-label6 input-label6">
        <span class="form__input-outline"></span>
      </span>
    </label>
  </div>

  <h3>HTML5-specific Form Elements</h3>

  <div class="form__row">
    <label for="email" class="form__label-heading">Email</label>
    <input type="email" id="email">
  </div>

  <div class="form__row">
    <label for="number" class="form__label-heading">Number (with
      <code>type="text"</code> and <code>pattern</code> attribute)</label>
    <input id="number" type="text" min="0" max="100000" step="1" value="5" pattern="\d*">
  </div>

  <div class="form__row">
    <label for="search" class="form__label-heading">Search</label>
    <input type="search" id="search">
  </div>

  <div class="form__row">
    <input class="button" type="reset" value="Clear">
    <input class="button button--primary" type="submit" value="Submit">
  </div>

</form>

<h2>Errors</h2>

<div class="validation-summary">
  <div class="validation-summary__content-container">
    <p class="validation-summary__title">
      1 error
      prevented calculation:
    </p>
    <ol class="validation-summary__list">
      <li>
        <a href="#savings_goal-errors">Your savings goal can't be blank</a>
      </li>
    </ol>
  </div>
</div>

<div class="form__row is-errored">
  <div id="savings_goal-errors">
    <p>1. Your savings goal can't be blank</p>
  </div>
  <label class="form__label-heading" for="input5" id="form-label5">What is your
    savings goal?</label>
    <span class="form__input-container">
      <span class="form__input-label" id="input-label5a">£</span>
      <input id="input5" class="form__input" type="text" aria-labelledby="form-label5 input-label5a input-label5b">
      <span class="form__input-outline"></span>
    </span>
</div>

<h2>Helpers<h2>

<h3>Form Row</h3>

<p>
  This is used for presentational purposes. It can be used for a label and field pair or grouping multiple form elements.
</p>

<code>
  <pre>
<%= File.open(Rails.root.join("app/views/forms/_form_row.html.erb")).read %>
  </pre>
</code>

<%= render 'form_row' %>

<h3>Form Row - with options</h3>

<p>
  You can pass arbitrary HTML attributes to the form_row and they will be rendered.
</p>

<code>
  <pre>
<%= File.open(Rails.root.join("app/views/forms/_form_row_with_options.html.erb")).read %>
  </pre>
</code>

<%= render 'form_row_with_options' %>

<h2>Builders</h2>

<h3>Validation - Basic example</h3>

<p>
  IMPORTANT: At this moment in time <code>form_row</code> is mandatory otherwise correct styling will not be applied.
</p>

<code>
  <pre>
<%= File.open(Rails.root.join("app/views/forms/_validation_summary.html.erb")).read %>
  </pre>
</code>

<%= render 'validation_summary' %>

<h3>Validation - With ordered fields</h3>

<ul>
  <li>Your model must implement #field_order on your model instance to return an array of symbols representing each field.</li>
  <li>:base may be added to the array if that needs to be ordered</li>
  <li>All fields not in the array are appended to the end in the default order</li>
</ul>

<code>
  <pre>
<%= File.open(Rails.root.join("app/views/forms/_validation_summary_ordered.html.erb")).read %>
  </pre>
</code>

<%= render 'validation_summary_ordered' %>

